<html>
<head>
  <title>42.- Explain undo and redo logging</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/301769 (en-US); Windows/10.0.14342 (Win64);"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1156"/>
<h1>42.- Explain undo and redo logging</h1>

<div>
<span><div>42.- Explain undo and redo logging</div><div><br/></div><div><table border="0" cellpadding="0" cellspacing="0" style="border: 1px solid rgb(221, 221, 221); font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; border-collapse: collapse; border-spacing: 0px;width:605px;"><tr style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><td style="border: 1pt solid windowtext; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px 5.4pt; vertical-align: baseline; background-color: transparent;width:20.66115702479339%;" valign="top" width="115"><p style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; text-align: justify;"></p></td><td style="border-top-width: 1pt; border-right-width: 1pt; border-bottom-width: 1pt; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-color: windowtext windowtext windowtext rgb(236, 233, 216); font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px 5.4pt; vertical-align: baseline; background-color: transparent;width:38.34710743801653%;" valign="top" width="228"><strong style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: 700; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 9.5pt; font-family: &apos;Lucida Sans Unicode&apos;; margin: 0px; padding: 0px; vertical-align: baseline;">UNDO</span></strong></td><td style="border-top-width: 1pt; border-right-width: 1pt; border-bottom-width: 1pt; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-color: windowtext windowtext windowtext rgb(236, 233, 216); font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px 5.4pt; vertical-align: baseline; background-color: transparent;width:40.99173553719008%;" valign="top" width="247"><strong style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: 700; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 9.5pt; font-family: &apos;Lucida Sans Unicode&apos;; margin: 0px; padding: 0px; vertical-align: baseline;">REDO</span></strong></td></tr><tr style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><td style="border-right-width: 1pt; border-bottom-width: 1pt; border-left-width: 1pt; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-color: rgb(236, 233, 216) windowtext windowtext; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px 5.4pt; vertical-align: baseline; width: 1.2in; background-color: transparent;" valign="top" width="115"><strong style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: 700; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 9.5pt; font-family: &apos;Lucida Sans Unicode&apos;; margin: 0px; padding: 0px; vertical-align: baseline;">Record of</span></strong></td><td style="border-right-width: 1pt; border-bottom-width: 1pt; border-right-style: solid; border-bottom-style: solid; border-color: rgb(236, 233, 216) windowtext windowtext rgb(236, 233, 216); font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px 5.4pt; vertical-align: baseline; width: 171pt; background-color: transparent;" valign="top" width="228"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 9.5pt; font-family: &apos;Lucida Sans Unicode&apos;; margin: 0px; padding: 0px; vertical-align: baseline;">How to undo a change</span></td><td style="border-right-width: 1pt; border-bottom-width: 1pt; border-right-style: solid; border-bottom-style: solid; border-color: rgb(236, 233, 216) windowtext windowtext rgb(236, 233, 216); font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px 5.4pt; vertical-align: baseline; width: 185.4pt; background-color: transparent;" valign="top" width="247"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 9.5pt; font-family: &apos;Lucida Sans Unicode&apos;; margin: 0px; padding: 0px; vertical-align: baseline;">How to reproduce a change</span></td></tr><tr style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><td style="border-right-width: 1pt; border-bottom-width: 1pt; border-left-width: 1pt; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-color: rgb(236, 233, 216) windowtext windowtext; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px 5.4pt; vertical-align: baseline; width: 1.2in; background-color: transparent;" valign="top" width="115"><strong style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: 700; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 9.5pt; font-family: &apos;Lucida Sans Unicode&apos;; margin: 0px; padding: 0px; vertical-align: baseline;">Used for</span></strong></td><td style="border-right-width: 1pt; border-bottom-width: 1pt; border-right-style: solid; border-bottom-style: solid; border-color: rgb(236, 233, 216) windowtext windowtext rgb(236, 233, 216); font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px 5.4pt; vertical-align: baseline; width: 171pt; background-color: transparent;" valign="top" width="228"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 9.5pt; font-family: &apos;Lucida Sans Unicode&apos;; margin: 0px; padding: 0px; vertical-align: baseline;">Rollback, Read-Consistency</span></td><td style="border-right-width: 1pt; border-bottom-width: 1pt; border-right-style: solid; border-bottom-style: solid; border-color: rgb(236, 233, 216) windowtext windowtext rgb(236, 233, 216); font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px 5.4pt; vertical-align: baseline; width: 185.4pt; background-color: transparent;" valign="top" width="247"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 9.5pt; font-family: &apos;Lucida Sans Unicode&apos;; margin: 0px; padding: 0px; vertical-align: baseline;">Rolling forward DB Changes</span></td></tr><tr style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><td style="border-right-width: 1pt; border-bottom-width: 1pt; border-left-width: 1pt; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-color: rgb(236, 233, 216) windowtext windowtext; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px 5.4pt; vertical-align: baseline; width: 1.2in; background-color: transparent;" valign="top" width="115"><strong style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: 700; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 9.5pt; font-family: &apos;Lucida Sans Unicode&apos;; margin: 0px; padding: 0px; vertical-align: baseline;">Stored in</span></strong></td><td style="border-right-width: 1pt; border-bottom-width: 1pt; border-right-style: solid; border-bottom-style: solid; border-color: rgb(236, 233, 216) windowtext windowtext rgb(236, 233, 216); font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px 5.4pt; vertical-align: baseline; width: 171pt; background-color: transparent;" valign="top" width="228"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 9.5pt; font-family: &apos;Lucida Sans Unicode&apos;; margin: 0px; padding: 0px; vertical-align: baseline;">Undo segments</span></td><td style="border-right-width: 1pt; border-bottom-width: 1pt; border-right-style: solid; border-bottom-style: solid; border-color: rgb(236, 233, 216) windowtext windowtext rgb(236, 233, 216); font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px 5.4pt; vertical-align: baseline; width: 185.4pt; background-color: transparent;" valign="top" width="247"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 9.5pt; font-family: &apos;Lucida Sans Unicode&apos;; margin: 0px; padding: 0px; vertical-align: baseline;">Redo log files</span></td></tr><tr style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><td style="border-right-width: 1pt; border-bottom-width: 1pt; border-left-width: 1pt; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-color: rgb(236, 233, 216) windowtext windowtext; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px 5.4pt; vertical-align: baseline; width: 1.2in; background-color: transparent;" valign="top" width="115"><strong style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: 700; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 9.5pt; font-family: &apos;Lucida Sans Unicode&apos;; margin: 0px; padding: 0px; vertical-align: baseline;">Protect Against</span></strong></td><td style="border-right-width: 1pt; border-bottom-width: 1pt; border-right-style: solid; border-bottom-style: solid; border-color: rgb(236, 233, 216) windowtext windowtext rgb(236, 233, 216); font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px 5.4pt; vertical-align: baseline; width: 171pt; background-color: transparent;" valign="top" width="228"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 9.5pt; font-family: &apos;Lucida Sans Unicode&apos;; margin: 0px; padding: 0px; vertical-align: baseline;">Inconsistent reads in multiuser systems</span></td><td style="border-right-width: 1pt; border-bottom-width: 1pt; border-right-style: solid; border-bottom-style: solid; border-color: rgb(236, 233, 216) windowtext windowtext rgb(236, 233, 216); font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px 5.4pt; vertical-align: baseline; width: 185.4pt; background-color: transparent;" valign="top" width="247"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 9.5pt; font-family: &apos;Lucida Sans Unicode&apos;; margin: 0px; padding: 0px; vertical-align: baseline;">Data loss</span></td></tr></table><p style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word;"></p><p style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></p><p style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><strong style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: 700; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">UNDO</span></strong><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"> </span></p><p style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><strong style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: 700; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: normal; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Undo </span></strong><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;">tablespaces</span> are special <span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;">tablespaces</span> used solely for storing undo information. You cannot create any other segment types (for example, tables or indexes) in undo <span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;">tablespaces</span>. Each database contains zero or more undo <span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;">tablespaces</span>. In automatic undo management mode, each Oracle instance is assigned one (and only one) undo <span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;">tablespace</span>. Undo data is managed within an undo <span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;">tablespace</span> using undo segments that are automatically created and maintained by Oracle.</p><p style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Every Oracle Database must have a method of maintaining information that is used to roll back, or undo, changes to the database. Such information consists of records of the actions of transactions, primarily before they are committed. These records are collectively referred to as undo.</span><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"> </span></p><p style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"><strong style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: 700; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;">Undo records are used to:</strong></span><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"> </span></p><ul style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 0px 1.5em 1.5em 0px; padding: 0px 0px 0px 2em; vertical-align: baseline; list-style: disc; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Roll back transactions when a ROLLBACK statement is issued</span></li><li style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Recover the database</span></li><li style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Provide read consistency</span></li><li style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Analyze data as of an earlier point in time by using Oracle Flashback Query</span></li><li style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Recover from logical corruptions using Oracle Flashback features</span><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"> </span></li></ul><p style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">When a ROLLBACK statement is issued, undo records are used to undo changes that was made to the database by the uncommitted transaction. During database recovery, undo records are used to undo any uncommitted changes applied from the redo log to the </span><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;">datafiles</span>. Undo records provide read consistency by maintaining the before image of the data for users who are accessing the data at the same time that another user is changing it.<span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"> </span></p><p style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><strong style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: 700; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">REDO</span></strong><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"> </span></p><p style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Redo log files record changes to the database as a result of transactions and internal Oracle server actions. (A transaction is a logical unit of work, consisting of one or more SQL statements run by a user.)</span><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"> </span></p><p style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Redo log files protect the database from the loss of integrity because of system failures caused by power outages, disk failures, and so on.</span><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"> </span></p><p style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Redo log files must be multiplexed to ensure that the information stored in them is not lost in the event of a disk failure.</span><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"> </span></p></div><div><br/></div><div style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><span style="color: rgb(85, 85, 85);"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">The redo log consists of groups of redo log files. A group consists of a redo log file and its multiplexed copies. Each identical copy is said to be a member of that group, and each group is identified by a number. The </span><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;">LogWriter</span><span style="font-family: Arial, Helvetica, sans-serif;"><span style="font-size: 15px;"> (LGWR) process writes redo records from the redo log buffer to all members of a redo log group until the file is filled or a log switch operation is requested. Then, it switches and writes to the files in the next group. Redo log groups are used in a circular fashion.</span></span><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"> </span></span></div><div><span style="color: rgb(85, 85, 85);"><span style="font-family: Georgia;"><br/></span></span></div><div><p style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><strong style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: 700; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">RESUMEN</span></strong><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"> </span></p><p style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><strong style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: 700; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">UNDO</span><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"> </span></strong></p><ul style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 0px 1.5em 1.5em 0px; padding: 0px 0px 0px 2em; vertical-align: baseline; list-style: disc; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);" type="disc"><li style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline; text-align: justify;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Record of how to undo a change.</span></li><li style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline; text-align: justify;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Used for Rollback, read-consistency</span></li><li style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline; text-align: justify;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Stored in Undo Segments</span></li><li style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline; text-align: justify;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Protect against inconsistent reads in multiuser systems</span></li></ul><p style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></p><p style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><strong style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: 700; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">REDO</span><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"> </span></strong></p><ul style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 0px 1.5em 1.5em 0px; padding: 0px 0px 0px 2em; vertical-align: baseline; list-style: disc; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);" type="disc"><li style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline; text-align: justify;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Record of how to reproduce a change</span></li><li style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline; text-align: justify;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Used for Rolling forward database changes</span></li><li style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline; text-align: justify;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Stored in redo log files</span></li><li style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline; text-align: justify;"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Protect against data loss.</span><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"><br/></span></li></ul><p style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">An undo segment is just a segment, like a table or an index or a hash cluster or a materialized view is a segment. The clue is in the name. And the rule is that if you modify part of a segment, any segment, regardless of its type, you must generate redo so that the modification can be recovered in the event of media or instance failure. Therefore, you modify EMP; the changes to the EMP blocks are recorded in redo. The modification to EMP also has to be recorded in UNDO, because you might change your mind and want to reverse the transaction before you commit. </span><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Therefore, the modification to EMP causes entries to be made in an undo segment. But that’s a modification to a segment -this time, an undo segment. Therefore, the changes to the undo segment also have to be recorded in redo, in case you suffer a media or instance failure. </span><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"> </span></p><p style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">If your database now crashed and you had to restore a set of </span><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;">datafiles</span>, including those for the undo<span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;">tablespace</span>, from 10 days ago, you would of course do what Oracle always does: start reading from your archived redo, rolling the 10 day old files forward in time until they were 9, then 8, then 7 then 6 and so on days old, until you get to the time where the only record of the changes to segments (any segment) was contained in the current online redo log, and then you’d use that redo log to roll the files forward until they were 8 minutes old, 7 minutes, 6, 5, 4,… and so on, right up until all changes to all segments that had ever been recorded in the redo had been applied. At which point, your undo segments have been re-populated. So now you can start rolling back those transactions which were recorded in the redo logs, but which weren’t committed at the time of the database failure.  <span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"> </span></p><p style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-size: 14px; font-family: Arial, Helvetica, sans-serif; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; color: rgb(85, 85, 85); letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">I can’t emphasize enough, really, that undo segments are just slightly special tables. They’re fundamentally not very different from EMP or DEPT, except that new inserts into them can over-write a previous record, which never happens to EMP, of course. If you generate change vectors when you update EMP, you generate change vectors when you generate undo.   Why do we store the before and after image in redo and then duplicate half of that by repeating the store of the before image in undo? Because redo is written and generated sequentially and isn’t cached for long in memory (most log buffers are a few </span><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; margin: 0px; padding: 0px; vertical-align: baseline;">megas</span> in size, tops).<span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"> </span></p></div><div><br/></div><div style="border: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: inherit; font-family: Arial, Helvetica, sans-serif; margin: 1.6em 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word; color: rgb(85, 85, 85); letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 15px;"><div><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;">Therefore, using redo to rollback a mere mistake or as a result of a change of mind, whilst theoretically do-able, would involve wading through huge amounts of redo sequentially, looking for one little before image in a sea of changes made by lots of people and all of that wading would be done by reading stuff off disk (like it is in a recovery scenario). Undo, on the other hand, is stored in the buffer cache (just as EMP is stored in the buffer cache), so there’s a good chance that reading that will only require logical I/O, not physical. And your transaction is dynamically linked to where it’s written its undo, so you and your transaction can jump straight to where your undo is, without having to wade through the entire undo generated by other transactions. In performance terms, there is no comparison. Splitting ‘you need this for recovery’ from ‘you need this for changes of mind’ was a stroke of genius on the part of Oracle: other databases merely have ‘transaction logs’ which serve both purposes, and suffer in performance and flexibility terms accordingly.</span><span style="border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: Georgia; margin: 0px; padding: 0px; vertical-align: baseline;"> </span></div></div></div></span>
</div></body></html> 