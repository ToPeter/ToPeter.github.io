<html>
<head>
  <title>46.- What is Two-Phase locking ?</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/301769 (en-US); Windows/10.0.14342 (Win64);"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1174"/>
<h1>46.- What is Two-Phase locking ?</h1>

<div>
<span><div>46.- What is Two-Phase locking ?</div><div><br/></div><div><p style="box-sizing: border-box; color: rgb(0, 0, 0); margin: 0em 0.2em 1em; word-wrap: break-word; padding: 0px; text-align: justify; font-size: 15px !important; font-family: Verdana, Geneva, Tahoma, Arial, Helvetica, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">In a multiprogramming environment where multiple transactions can be executed simultaneously, it is highly important to control the concurrency of transactions. We have concurrency control protocols to ensure atomicity, isolation, and serializability of concurrent transactions. Concurrency control protocols can be broadly divided into two categories −</p><ul style="box-sizing: border-box; color: rgb(49, 49, 49); font-family: Verdana, Geneva, Tahoma, Arial, Helvetica, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><li>Lock based protocolsTime stamp based protocols</li></ul><h2 style="box-sizing: border-box; color: rgb(18, 18, 20); font-weight: normal; letter-spacing: -1px; margin: 0.2em 0.2em 0.2em 0px; font-size: 1.7em; padding: 0px; text-shadow: rgb(204, 204, 204) 1px 1px 2px; position: relative; left: 0px; font-family: Verdana, Geneva, Tahoma, Arial, Helvetica, sans-serif; font-style: normal; font-variant: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">Lock-based Protocols</h2><p style="box-sizing: border-box; color: rgb(0, 0, 0); margin: 0em 0.2em 1em; word-wrap: break-word; padding: 0px; text-align: justify; font-size: 15px !important; font-family: Verdana, Geneva, Tahoma, Arial, Helvetica, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">Database systems equipped with lock-based protocols use a mechanism by which any transaction cannot read or write data until it acquires an appropriate lock on it. Locks are of two kinds −</p><ul style="box-sizing: border-box; color: rgb(49, 49, 49); font-family: Verdana, Geneva, Tahoma, Arial, Helvetica, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><li style="box-sizing: border-box; color: rgb(0, 0, 0); margin: 0em 0.2em 1em; word-wrap: break-word; padding: 0px; text-align: justify; font-size: 15px !important;"><b style="box-sizing: border-box;">Binary Locks</b> − A lock on a data item can be in two states; it is either locked or unlocked.</li><li style="box-sizing: border-box; color: rgb(0, 0, 0); margin: 0em 0.2em 1em; word-wrap: break-word; padding: 0px; text-align: justify; font-size: 15px !important;"><b style="box-sizing: border-box;">Shared/exclusive</b> − This type of locking mechanism differentiates the locks based on their uses. If a lock is acquired on a data item to perform a write operation, it is an exclusive lock. Allowing more than one transaction to write on the same data item would lead the database into an inconsistent state. Read locks are shared because no data value is being changed.</li></ul><div style="box-sizing: border-box; margin: 0em 0.2em 1em; word-wrap: break-word; padding: 0px; text-align: justify; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="font-family: Verdana, Geneva, Tahoma, Arial, Helvetica, sans-serif;"><span style="font-size: 15px;">There are four types of lock protocols available (we care only about 2-Phase)</span></span></div><div><span style="font-family: Verdana, Geneva, Tahoma, Arial, Helvetica, sans-serif;"><br/></span></div><div><h3 style="box-sizing: border-box; color: rgb(0, 0, 0); font-weight: normal; letter-spacing: normal; margin: 0.2em 0.2em 0.2em 0px; font-size: 1.3em; text-transform: none; text-shadow: rgb(204, 204, 204) 1px 1px 2px; padding: 0px; position: relative; left: 0px; border: 0px; font-family: Verdana, Geneva, Tahoma, Arial, Helvetica, sans-serif; font-style: normal; font-variant: normal; orphans: auto; text-align: start; text-indent: 0px; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">Two-Phase Locking 2PL</h3><p style="box-sizing: border-box; color: rgb(0, 0, 0); margin: 0em 0.2em 1em; word-wrap: break-word; padding: 0px; text-align: justify; font-size: 15px !important; font-family: Verdana, Geneva, Tahoma, Arial, Helvetica, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">This locking protocol divides the execution phase of a transaction into three parts. In the first part, when the transaction starts executing, it seeks permission for the locks it requires. The second part is where the transaction acquires all the locks. As soon as the transaction releases its first lock, the third phase starts. In this phase, the transaction cannot demand any new locks; it only releases the acquired locks.</p><img src="46.- What is Two-Phase locking_files/Image.png" type="image/png" alt="Two Phase Locking" style="box-sizing: border-box; vertical-align: middle; max-width: 100%; border: 0px; display: block; margin-left: auto; margin-right: auto; padding-bottom: 4px; color: rgb(49, 49, 49); font-family: Verdana, Geneva, Tahoma, Arial, Helvetica, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"/><p style="box-sizing: border-box; color: rgb(0, 0, 0); margin: 0em 0.2em 1em; word-wrap: break-word; padding: 0px; text-align: justify; font-size: 15px !important; font-family: Verdana, Geneva, Tahoma, Arial, Helvetica, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">Two-phase locking has two phases, one is <b style="box-sizing: border-box;">growing</b>, where all the locks are being acquired by the transaction; and the second phase is shrinking, where the locks held by the transaction are being released.</p><div style="box-sizing: border-box; color: rgb(0, 0, 0); margin: 0em 0.2em 1em; word-wrap: break-word; padding: 0px; text-align: justify; font-size: 15px !important; font-family: Verdana, Geneva, Tahoma, Arial, Helvetica, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div>To claim an exclusive (write) lock, a transaction must first acquire a shared (read) lock and then upgrade it to an exclusive lock.</div></div></div><div><span style="font-family: Verdana, Geneva, Tahoma, Arial, Helvetica, sans-serif;"><br/></span></div><div><span style="font-family: Verdana, Geneva, Tahoma, Arial, Helvetica, sans-serif;"><br/></span></div></div></div><div> </div></span>
</div></body></html> 